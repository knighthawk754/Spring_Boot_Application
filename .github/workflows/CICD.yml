name: CICD pipeline

on:
  push:
    branches: ["main"]

  jobs:
    build:
       compile:
          runs-on: ubuntu-latest
          
          steps:
            - name: Checkout code
              uses: actions/checkout@v2
            - name: set up JDK 17
              uses: actions/setup-java@v4
              with:
                java-version: '17'
                distribution: 'temurin'
            - name: Build with maven
              run: mvn clean install -DskipTests=true
            - name: Run tests
              run: mvn test
